# Wells Fargo Mortgage Default Predictive Model
## Executive Summary

In partnership with Wells Fargo, the objective is to build a predictive model to forecast mortgage default rates for the next 24 months. By leveraging Freddie Mac's loan origination and performance records and incorporating key macroeconomic factors that impact the housing industry, the model will simulate future scenarios and the likelihood of default. The success of the model is important to financial institutions like Wells Fargo, as a primary source of revenue for lies in mortgage-backed securities.  Identifying high default rates before they occur allows the bank to be proactive in risk management to protect its financial health and reputation. 

The model will analyze various factors influencing default rates, such as current loan-to-value ratios, historical performance data, and unemployment, among many others. The model will be trained on a sample of non-default and defaulted mortgages with probability  calibrations to accurately assign weights to the variables. It will also focus on key economic crisis periods, including the 2008 Great Recession and the COVID-19 pandemic to test the accuracy of the prediction.
With the model, anticipated outcomes include improved risk management capabilities and sustained long-term profitability for Wells Fargo's mortgage operations. 

## Problem Understanding 
Wells Fargo's business model and financial stability hinge significantly on accurately predicting default rates. As one of the largest retail mortgage originators in the United States, the trillion-dollar industry relies heavily on the performance and safety of its mortgage-backed securities. Forecasting default rates enables Wells Fargo to anticipate potential revenue losses and implement effective risk mitigation strategies, thus safeguarding against economic downturns. The precision of this predictive model is crucial, as it enhances Wells Fargo's resilience during challenging market conditions and ensures sustainable long-term profitability.

The dataset selected for analysis comprises Freddie Mac's 30-year fixed-rate mortgage data spanning from 1999 to 2023. Both origination and performance data will be leveraged throughout the model development process. It is also worthwhile to acknowledge the presence of quality issues within this dataset that could potentially impact the robustness of predictions. Null values and missing data points pose challenges, potentially leading to inaccurate or incomplete interpretations of mortgage performance. Additionally, the model will integrate forecasted macroeconomic factors, such as unemployment rates and the House Price Index, to provide comprehensive insights, which are subject to change due to unforeseen circumstances.

Key stakeholders for this project include the Wells Fargo team, the U.S. government, and homebuyers. Wells Fargo must ensure that their mortgage-backed securities are worthwhile to the customer in this competitive market, while also maintaining profitability for the business. Government agencies, like the Federal Reserve and the Federal Housing Finance Agency, have special interest in these activities to regulate mortgage lending and ensure economic stability. The government also holds responsibility for ensuring the accuracy of default rates, particularly in scenarios where banks may require bailouts. Lastly, the homebuyer is of the utmost importance, as customers rely on lenders to provide a fair and transparent service. Understanding default rates can also impact a homebuyer’s loan approval process, overall interest rates, and affordability.

## Methodology (Data Analyzed)
The Freddie Mac dataset outlines Single-Family Loan Level Factors that may contribute to defaulting on a mortgage. Among Americans, the two most popular mortgage types are 15 and 30-year fixed rates for their varying interest rates and monthly payments which provide homeowners with financial flexibility. For the model, the 30-year amortized fixed-rate mortgage product will be assessed due to its high popularity and low default rate (< 0.2%) during normal economic times. By modeling the 30-year mortgage as opposed to the 15-year, Wells Fargo will have an upper hand in predicting the possibility of future default for one of the most popular mortgage types, overall preventing the risk of reputation impacts and saving the company money. 

The dataset consists of both an origination and monthly performance dataset for each year spanning 1999 to 2023. The origination file contains loan-level origination information such as loan term, purpose, original loan-to-value (LTV), and debt-to-income (DTI) ratio. The performance file uses a monthly format to outline loan-level performance and actual loss data for each respective loan such as total expenses, loan age, and current actual unpaid balance (UPB). Both data files are connected by a unique Loan Sequence Number associated with each loan, which will connect data to congruent information. 

While the current Freddie Mac dataset is a comprehensive source of loan-specific data,  it fails to take into account macroeconomic factors that have large impacts on the housing market, leading to higher or lower default rates. The country’s unemployment rate, FHFA house price index, and inflation rate, among other factors, will be used to give an economy-wide influence on the current dataset. Since unemployment leads to lowered income, understanding the rate of Americans who are unemployed but actively looking to find work may be an indicator of difficulty in making a mortgage payment and overall default. Similarly, the FHFA Housing Price Index may be a leading indicator of future default as it measures average price changes in property sales or refinancings. An increase in HPI can influence an inability or undesire to fully pay a mortgage due to increased property prices. Finally, the country’s inflation rate directly impacts mortgage rates and thus, default rates. Since inflation erodes consumer buying power due to price increases, banks may indirectly increase their mortgage rates to reduce financial losses. With higher rates coupled with the loss of purchasing power, the change of default for homeowning consumers may rise. By injecting economic data into loan-level information, the model will be able to recognize indirect factors outside of the loan itself that impact the payment capacity of homeowners with a Wells Fargo 30-year amortized fixed-rate mortgage.  

Since mortgages themselves are time-based loans, national interest, unemployment, and other rates are highly influential. To ensure a proper default prediction, the team plans to use Freddie Mac loan-level data paired with macroeconomic data from its time period as indicators of how the loan can perform in the future. With macroeconomic factors that are specific to time, loan performance can be interpreted as a function of the loan itself and environmental conditions created by the economic period. With macroeconomic factors implemented into the data, the model will also be able to predict default rates during periods of economic recession. Periods of crisis, such as the 2007-2008 Housing Crisis or the COVID-19 Pandemic, have direct impacts on the country’s macroeconomic measures. Thus, by instituting such factors in the data, the inherent imbalance of normal default rates of < 0.2% and crisis period default rates as high as 10% will be accounted for. 

First, because the Freddie Mac dataset consists of individual quarterly information across the 24-year 1999 to 2023 time period, it was too large to download and work with on the existing computer systems available to the team. As a result, the team decided to use the sample data provided by Freddie Mac which consists of a simple random sample of 50,000 loans from the original dataset for each year. This makes the entire dataset more functional for preprocessing and modeling techniques. Secondly, the team used Jupyter Notebook to create both the origination and performance datasets for every year. To to this, each corresponding “.txt” file was downloaded and loaded into the workspace using “|” as the delimiter to specific columns. Column names were then added to each dataset using the user guide found in the Freddie Mac Read_Me file. The individual years from which the loans originated were also added to both datasets as a way to understand how macroeconomic features respective to time affected default rates. Of the full data for each origination and performance file, the type of amortization for all loans was also checked to ensure they were fixed-rate mortgages (FRM).

In the upcoming week, the team will use research on individual variables, as well as input from professionals in the sector, to understand the data’s variables with NULL values. Since all NULL values should not be mindlessly removed, we must determine which variables are important influencing factors in default rates regardless of their NULL inputs. In some cases, a NULL variable may not represent a missing value, but instead may signify that the value is not “Yes.” In this sense, the team will change the NULL values to read as their correct values as explained in the data dictionary section of the user guide. Additionally, we will research the impact of the normalization of numerical values in our data, to prevent certain variables like Original UPB from outweighing others in the model such as Original Interest Rate. Finally, explanatory data analysis will be conducted to explore patterns or an underlying structure of the dataset. For instance, a correlation heatmap can be used to find connections between if there are indirect effects of variables against each other. While there is still work to be done to fully grasp the story that this dataset is trying to tell, the team has a plan to ensure successful preprocessing and exploration of the data before modeling. 

## Methodology: Analytics Techniques
We will utilize PiML, a Python toolbox for interpretable machine learning, to model mortgage default and prepayment rates. There are 9 different interpretable modeling approaches we can explore: 
